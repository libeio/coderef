
## 说明
- C 目录
    + C 语言实现
    + 线程不安全
    + 参考了 DPDK 的日志打印方式
- CXX 目录
    + cxxlog.h cxxlog.cpp cxxtest.cpp 参考了 C 的实现
    + asynclog.h asynclog.cpp asynctest.cpp 是异步队列日志
    + synclog.cpp 是与异步队列进行性能对照的同步日志

## 异步队列与同步队列测试结果
- 测试环境:
    + VMware + GNU/Linux Debian 9.8.0 + 64 bit
- 测试说明:
    + 异步使用 4 条流打印线程，1 条文件写线程；
    + 异步入队等待时间主要影响日志空转(流打印线程不工作，文件写线程依旧轮询时)的 CPU 占用率；
    + 同步输出 40 万条日志；异步每条线程输出 10 万条日志，共 40 万条日志；
    + 这里的满载为最大 CPU 占用率；
- 纯打印日志时
    + 同步: 2 秒
    + 异步: 8 秒
- 模拟工作时间(每次打印之间休眠 10 微秒)
    + 同步耗时: 79 秒，满载运行时 CPU 占用率 38.4%
    + 若异步入队等待时间为 1 毫秒。异步耗时: 15 秒，满载运行时 CPU 占用率 73.8%, 日志空转时 CPU 占用率 6% ~ 8%
    + 若异步入队等待时间为 5 毫秒。异步耗时: 16 秒，满载运行时 CPU 占用率 70.1%, 日志空转时 CPU 占用率 0.7% ~ 1%
    + 若异步入队等待时间为 10 毫秒。异步耗时: 20 秒，满载运行时 CPU 占用率 62.9%, 日志空转时 CPU 占用率 0.3% ~ 0.7%
- 模拟工作时间(每次打印之间休眠 100 微秒)
    + 同步耗时: 83 秒，满载运行时 CPU 占用率 21.9%
    + 若异步入队等待时间为 1 毫秒。异步耗时: 20 秒，满载运行时 CPU 占用率 57.8%, 日志空转时 CPU 占用率 6% ~ 8%
    + 若异步入队等待时间为 5 毫秒。异步耗时: 20 秒，满载运行时 CPU 占用率 51.7%, 日志空转时 CPU 占用率 0.7% ~ 1%
    + 若异步入队等待时间为 10 毫秒。异步耗时: 21 秒，满载运行时 CPU 占用率 52.3%, 日志空转时 CPU 占用率 0.3% ~ 0.7%
 
 
